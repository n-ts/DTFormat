function DTFormat(e,t,n,r){var o,g,s,a="!YYYY-!MM-!DD !hh:!mm:!ss.!SSS",i=new Date,u=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],M=[];for(void 0!==e&&M.push(e),void 0!==t&&M.push(t),void 0!==n&&M.push(n),void 0!==r&&M.push(r),s=0;s<M.length;s++)M[s]instanceof String||"string"==typeof M[s]?a=M[s]:M[s]instanceof Date?i=M[s]:M[s]instanceof Array&&12===M[s].length?u=M[s]:M[s]instanceof Array&&7===M[s].length&&(h=M[s]);function l(e,t){var n=(i[e]()+("getMonth"===e?1:0)).toString();return void 0!==t&&(t<0&&(n=n.slice(0,n.length+t)),t>0&&(n=("00"+n).slice(-1*t))),n}return g=i.getHours()<12?"AM":"PM",o=0===(o=i.getHours()<12?i.getHours():i.getHours()-12)?12:o,function(e,t){for(var n=0;n<t.length-1;n+=2)e=e.replace("!"+t[n],t[n+1]);return e}(a,["UTM",l("getTime"),"UTS",l("getTime",-3),"YYYY",l("getFullYear"),"YY",l("getFullYear",2),"MM",l("getMonth",2),"M",l("getMonth"),"NM",u[i.getMonth()],"DD",l("getDate",2),"D",l("getDate"),"W",l("getDay"),"NW",h[i.getDay()],"HH",("0"+o.toString()).slice(-2),"H",o.toString(),"hh",l("getHours",2),"h",l("getHours"),"mm",l("getMinutes",2),"m",l("getMinutes"),"ss",l("getSeconds",2),"s",l("getSeconds"),"SSS",l("getMilliseconds",3),"S",l("getMilliseconds"),"TD",g])}